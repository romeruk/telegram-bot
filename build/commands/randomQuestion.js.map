{"version":3,"sources":["../../src/commands/randomQuestion.js"],"names":["randomQuestion","bot","command","ctx","questions","Math","floor","random","length","keyboard","answerOptions","entries","i","q","push","text","callback_data","variants","id","chat","telegram","sendMessage","question","reply_markup","inline_keyboard","disable_notification","Object","_","value","action","replyfn","console","log","answerCbQuery"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;;;;;;;AAEA,IAAMA,cAAc,GAAG,SAAjBA,cAAiB,CAACC,GAAD,EAAS;AAC9BA,EAAAA,GAAG,CAACC,OAAJ,CAAY,UAAZ,EAAwB,8BAAxB,EAA4C,UAAAC,GAAG,EAAI;AAEjD,QAAMH,cAAc,GAAGI,4BAAUC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgBH,4BAAUI,MAArC,CAAV,CAAvB;;AAEA,QAAMC,QAAQ,GAAG,EAAjB,CAJiD,CAKjD;;AALiD;AAAA;AAAA;;AAAA;AAOjD,2BAAqBT,cAAc,CAACU,aAAf,CAA6BC,OAA7B,EAArB,8HAA6D;AAAA;AAAA,YAAjDC,CAAiD;AAAA,YAA9CC,CAA8C;;AAC3DJ,QAAAA,QAAQ,CAACK,IAAT,CAAc,CAAC;AACbC,UAAAA,IAAI,EAAEF,CADO;AAEbG,UAAAA,aAAa,EAAEC,2BAASL,CAAT;AAFF,SAAD,CAAd;AAID;AAZgD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,QAczCM,EAdyC,GAclCf,GAAG,CAACgB,IAd8B,CAczCD,EAdyC;AAgBjDjB,IAAAA,GAAG,CAACmB,QAAJ,CAAaC,WAAb,CAAyBH,EAAzB,EAA6BlB,cAAc,CAACsB,QAA5C,EAAsD;AACpDC,MAAAA,YAAY,EAAE;AACZC,QAAAA,eAAe,YACVf,QADU;AADH,OADsC;AAMpDgB,MAAAA,oBAAoB,EAAE;AAN8B,KAAtD;AASD,GAzBD,EAD8B,CA4B9B;;AACA,sCAAuBC,MAAM,CAACf,OAAP,CAAeM,0BAAf,CAAvB,uCAAiD;AAAA;AAAA,QAAvCU,CAAuC;AAAA,QAApCC,KAAoC;;AAC/C3B,IAAAA,GAAG,CAAC4B,MAAJ,CAAWD,KAAX,EAAkB,6BAAiB;AAAEE,MAAAA,OAAO,EAAE,iBAAC3B,GAAD;AAAA,eAAS4B,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAT;AAAA;AAAX,KAAjB,CAAlB,EAAkF,UAAC7B,GAAD,EAAS;AACzF,mCAAcA,GAAd;AACAA,MAAAA,GAAG,CAAC8B,aAAJ;AACD,KAHD;AAID;AACF,CAnCD;;eAoCejC,c","sourcesContent":["import { isRightAnswer } from '../helpers/question';\r\nimport { questions, variants } from '../helpers/arrayOfQuestions';\r\nimport { limitsMiddleware } from \"../Middleware/index\";\r\n\r\nconst randomQuestion = (bot) => {\r\n  bot.command(\"question\", limitsMiddleware(), ctx => {\r\n\r\n    const randomQuestion = questions[Math.floor(Math.random() * questions.length)];\r\n\r\n    const keyboard = [];\r\n    //generate buttons\r\n\r\n    for (const [i, q] of randomQuestion.answerOptions.entries()) {\r\n      keyboard.push([{\r\n        text: q,\r\n        callback_data: variants[i]\r\n      }]);\r\n    }\r\n\r\n    const { id } = ctx.chat;\r\n\r\n    bot.telegram.sendMessage(id, randomQuestion.question, {\r\n      reply_markup: {\r\n        inline_keyboard: [\r\n          ...keyboard\r\n        ]\r\n      },\r\n      disable_notification: true\r\n    });\r\n\r\n  });\r\n\r\n  //register actions \r\n  for (let [_, value] of Object.entries(variants)) {\r\n    bot.action(value, limitsMiddleware({ replyfn: (ctx) => console.log(\"blocked\") }), (ctx) => {\r\n      isRightAnswer(ctx);\r\n      ctx.answerCbQuery()\r\n    });\r\n  }\r\n}\r\nexport default randomQuestion;"],"file":"randomQuestion.js"}